@startuml
entity Organization {
  * id : int
  * name : String
  * password_hash : String
  * chat_id : String
}

entity Meter {
  * id : int
  * name : String
  * battery : int
  * status : String
  --
  + organization_id : int
}

entity Sensor {
  * id : int
  * name : String
  * type : String
  * unit : String
  * is_default : boolean
  * min_threshold : float
  * max_threshold : float
  * threshold_enabled : boolean
  --
  + meter_id : int
}

entity Reading {
  * id : int
  * reading_value : float
  * time : datetime
  --
  + sensor_id : int
}

entity Alert {
  * id : int
  * message : String
  * time : datetime
  --
  + sensor_id : int
}

' Relacionamentos
Organization ||--o{ Meter : possui
Meter ||--o{ Sensor : possui
Sensor ||--o{ Reading : gera
Sensor ||--o{ Alert : dispara

@enduml
